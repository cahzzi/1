@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* 入场动画 - 只用 opacity 和 transform，GPU 加速 */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fade-in-up {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

.animate-fade-in {
  opacity: 0;
  animation: fade-in 0.5s ease-out forwards;
}

.animate-fade-in-up {
  opacity: 0;
  animation: fade-in-up 0.5s ease-out forwards;
}

/* 移动端：禁用入场动画，直接显示 */
@media (max-width: 767px) {
  .animate-fade-in,
  .animate-fade-in-up {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
  }
  
  /* 禁用 backdrop-filter */
  .backdrop-blur-xl,
  .backdrop-blur-md,
  .backdrop-blur-sm {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
  
  /* 移动端禁用所有 transition，提升滚动性能 */
  * {
    transition: none !important;
  }
  
  /* 仅保留必要的点击反馈 */
  .active\:scale-\[0\.98\]:active {
    transform: scale(0.98) !important;
    transition: transform 0.1s !important;
  }
}

/* 尊重用户的减少动画偏好 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* 隐藏滚动条但保持滚动功能 */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* 移动端安全区域适配 */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* 背景动画 - 仅桌面端 */
@keyframes pulse-slow { 
  0%, 100% { opacity: 0.4; } 
  50% { opacity: 0.7; } 
}

@keyframes shooting-line { 
  0% { left: -10%; opacity: 0; } 
  5% { opacity: 1; } 
  20% { left: 110%; opacity: 0; } 
  100% { left: 110%; opacity: 0; } 
}

@media (min-width: 768px) {
  .animate-pulse-slow { 
    animation: pulse-slow 6s ease-in-out infinite; 
  }
  .animate-shooting-line { 
    animation: shooting-line 8s linear infinite; 
    animation-delay: 2s; 
  }
}
